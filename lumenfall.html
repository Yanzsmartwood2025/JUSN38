<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GUARDIAN+ Interfaz de Usuario</title>
    <!-- Carga de Tailwind CSS para estilos rápidos y responsivos -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Estilos personalizados para la fuente Inter y el esquema de color */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1a2a; /* Fondo azul oscuro profundo */
            color: #e0f2fe; /* Texto azul claro */
        }
        /* Clase para simular la animación de respiración */
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.2); opacity: 1; }
            100% { transform: scale(1); opacity: 0.7; }
        }
        .breathing-circle {
            animation: pulse 2s infinite alternate;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <!-- Contenedor principal de la aplicación, simulando la pantalla del móvil -->
    <div id="app-container" class="bg-[#1a2c42] rounded-3xl shadow-2xl overflow-hidden w-full max-w-sm mx-auto border-2 border-[#00bcd4] flex flex-col" style="height: 700px;">

        <!-- Header de la aplicación -->
        <header class="bg-[#0f2138] p-4 flex items-center justify-between text-white border-b border-[#00bcd4]">
            <button onclick="goBack()" class="text-[#00bcd4] text-xl font-bold rounded-full p-2 hover:bg-[#00bcd4]/20 transition-colors duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
                </svg>
            </button>
            <h1 id="screen-title" class="text-xl font-bold text-[#00bcd4]">GUARDIAN+</h1>
            <div class="w-6 h-6"></div> <!-- Espaciador para centrar el título -->
        </header>

        <!-- Contenido de las pantallas (se mostrará una a la vez) -->
        <main class="flex-grow p-6 overflow-y-auto relative">

            <!-- Pantalla de Login/Registro -->
            <div id="login-screen" class="screen active text-center flex flex-col items-center justify-center h-full">
                <img src="https://placehold.co/120x120/0f2138/00bcd4?text=LOGO" alt="Logo de GUARDIAN+" class="mb-8 rounded-full border-4 border-[#00bcd4] p-2">
                <h2 class="text-3xl font-extrabold text-[#00bcd4] mb-6">Bienvenido a GUARDIAN+</h2>
                <input type="text" placeholder="Correo electrónico" class="w-full p-3 mb-4 bg-[#0f2138] border border-[#00bcd4]/50 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#00bcd4]">
                <input type="password" placeholder="Contraseña" class="w-full p-3 mb-6 bg-[#0f2138] border border-[#00bcd4]/50 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#00bcd4]">
                <button onclick="showScreen('home-screen')" class="w-full bg-[#00bcd4] text-[#0d1a2a] font-bold py-3 rounded-xl shadow-lg hover:bg-[#00a3bb] transition-colors duration-300 mb-4">Iniciar Sesión</button>
                <button onclick="showScreen('home-screen')" class="w-full bg-transparent border-2 border-[#00bcd4] text-[#00bcd4] font-bold py-3 rounded-xl hover:bg-[#00bcd4]/20 transition-colors duration-300">Registrarse</button>
                <div class="mt-8">
                    <p class="text-gray-400 mb-4">O accede con:</p>
                    <div class="flex justify-center space-x-6">
                        <button class="bg-[#0f2138] p-4 rounded-full border-2 border-[#00bcd4]/50 hover:bg-[#00bcd4]/20 transition-colors duration-300">
                            <!-- Icono de Huella Digital -->
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-8 h-8 text-[#00bcd4]">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 11.25v-1.5m0 1.5c-3.195 0-6.23-1.28-8.457-3.507A9.003 9.003 0 0112 3.75c3.195 0 6.23 1.28 8.457 3.507A9.003 9.003 0 0112 11.25zm0 0v7.5m0-7.5c-3.195 0-6.23-1.28-8.457-3.507A9.003 9.003 0 0112 3.75c3.195 0 6.23 1.28 8.457 3.507A9.003 9.003 0 0112 11.25zM12 21.75c3.195 0 6.23-1.28 8.457-3.507A9.003 9.003 0 0112 11.25c-3.195 0-6.23-1.28-8.457-3.507A9.003 9.003 0 0112 21.75z" />
                            </svg>
                        </button>
                        <button class="bg-[#0f2138] p-4 rounded-full border-2 border-[#00bcd4]/50 hover:bg-[#00bcd4]/20 transition-colors duration-300">
                            <!-- Icono de Face ID -->
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-8 h-8 text-[#00bcd4]">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Pantalla Home (Estado Actual) -->
            <div id="home-screen" class="screen hidden text-center flex flex-col items-center justify-center h-full">
                <h2 class="text-2xl font-semibold text-gray-300 mb-4">Tu Estado Actual</h2>
                <div class="bg-[#0f2138] p-6 rounded-2xl w-full max-w-xs mb-8 border border-[#00bcd4]/50 shadow-lg">
                    <p class="text-lg text-gray-400">Ritmo Cardíaco</p>
                    <p class="text-5xl font-extrabold text-[#00bcd4] mt-2">72 <span class="text-3xl">lpm</span></p>
                    <div class="w-full h-12 bg-transparent border-b-2 border-[#00bcd4] relative mt-4">
                        <!-- Simulación de línea de latido -->
                        <div class="absolute w-full h-full flex items-center justify-center">
                            <svg width="100%" height="100%" viewBox="0 0 300 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M0 25 L50 25 L60 10 L70 40 L80 25 L100 25 L120 25 L130 15 L140 35 L150 25 L170 25 L200 25 L210 10 L220 40 L230 25 L250 25 L300 25" stroke="#00bcd4" stroke-width="3"/>
                            </svg>
                        </div>
                    </div>
                    <p class="text-sm text-gray-500 mt-2">Normal</p>
                </div>
                <button onclick="showScreen('crisis-detection-screen')" class="w-full max-w-xs bg-red-600 text-white font-bold py-5 rounded-full shadow-xl hover:bg-red-700 transition-colors duration-300 text-2xl animate-pulse">
                    ALERTA GUARDIAN+
                </button>
            </div>

            <!-- Pantalla de Configuración de Contactos -->
            <div id="contacts-screen" class="screen hidden flex flex-col h-full">
                <h2 class="text-2xl font-semibold text-[#00bcd4] mb-6 text-center">Contactos de Emergencia</h2>
                <div class="flex-grow space-y-4 overflow-y-auto pr-2">
                    <!-- Contacto de ejemplo 1 -->
                    <div class="bg-[#0f2138] p-4 rounded-xl flex items-center justify-between border border-[#00bcd4]/50 shadow-md">
                        <div>
                            <p class="font-bold text-lg text-white">María González</p>
                            <p class="text-gray-400 text-sm">Madre - Prioridad 1</p>
                            <p class="text-gray-500 text-xs">+593 99 123 4567</p>
                        </div>
                        <button class="text-red-500 hover:text-red-700 transition-colors duration-200">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.924a2.25 2.25 0 01-2.244-2.077L4.74 6.75M9.257 4.75h5.5M15 6.75H9" />
                            </svg>
                        </button>
                    </div>
                    <!-- Contacto de ejemplo 2 -->
                    <div class="bg-[#0f2138] p-4 rounded-xl flex items-center justify-between border border-[#00bcd4]/50 shadow-md">
                        <div>
                            <p class="font-bold text-lg text-white">Dr. Juan Pérez</p>
                            <p class="text-gray-400 text-sm">Médico - Prioridad 2</p>
                            <p class="text-gray-500 text-xs">+593 98 765 4321</p>
                        </div>
                        <button class="text-red-500 hover:text-red-700 transition-colors duration-200">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.924a2.25 2.25 0 01-2.244-2.077L4.74 6.75M9.257 4.75h5.5M15 6.75H9" />
                            </svg>
                        </button>
                    </div>
                    <!-- Contacto de ejemplo 3 -->
                    <div class="bg-[#0f2138] p-4 rounded-xl flex items-center justify-between border border-[#00bcd4]/50 shadow-md">
                        <div>
                            <p class="font-bold text-lg text-white">Roberto Díaz</p>
                            <p class="text-gray-400 text-sm">Hermano - Prioridad 3</p>
                            <p class="text-gray-500 text-xs">+593 96 543 2109</p>
                        </div>
                        <button class="text-red-500 hover:text-red-700 transition-colors duration-200">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.924a2.25 2.25 0 01-2.244-2.077L4.74 6.75M9.257 4.75h5.5M15 6.75H9" />
                            </svg>
                        </button>
                    </div>
                </div>
                <button class="w-full bg-[#00bcd4] text-[#0d1a2a] font-bold py-3 rounded-xl shadow-lg hover:bg-[#00a3bb] transition-colors duration-300 mt-6">
                    Añadir Nuevo Contacto
                </button>
            </div>

            <!-- Pantalla de Detección de Crisis (Automática/Manual) -->
            <div id="crisis-detection-screen" class="screen hidden text-center flex flex-col items-center justify-center h-full">
                <h2 class="text-3xl font-bold text-red-500 mb-8 animate-pulse">¡CRISIS DETECTADA!</h2>
                <div class="relative w-48 h-48 flex items-center justify-center mb-8">
                    <div class="absolute w-full h-full rounded-full bg-red-800 opacity-30 animate-ping"></div>
                    <div class="relative w-40 h-40 rounded-full bg-red-600 flex items-center justify-center text-white text-6xl font-extrabold">
                        <span id="countdown">10</span>
                    </div>
                </div>
                <p class="text-xl text-gray-300 mb-6">¿Estás bien?</p>
                <button onclick="cancelCrisis()" class="w-full max-w-xs bg-gray-500 text-white font-bold py-4 rounded-xl shadow-lg hover:bg-gray-600 transition-colors duration-300">
                    Cancelar Alerta
                </button>
                <p class="text-sm text-gray-400 mt-4">La alerta se enviará automáticamente si no cancelas.</p>
            </div>

            <!-- Pantalla de Alerta Enviada -->
            <div id="alert-sent-screen" class="screen hidden text-center flex flex-col items-center justify-center h-full">
                <h2 class="text-3xl font-bold text-[#00bcd4] mb-8">¡Alerta Enviada!</h2>
                <p class="text-xl text-gray-300 mb-6">Mensaje de emergencia enviado a tus 3 contactos principales.</p>
                <div class="bg-[#0f2138] p-4 rounded-xl w-full max-w-xs mb-8 border border-[#00bcd4]/50 shadow-lg">
                    <p class="text-lg text-gray-400 mb-2">Ubicación Actual:</p>
                    <img src="https://placehold.co/300x150/0f2138/00bcd4?text=Mapa+de+Ubicacion" alt="Mapa de Ubicación" class="w-full rounded-lg mb-2">
                    <a href="#" class="text-[#00bcd4] text-sm hover:underline">Ver en Google Maps</a>
                </div>
                <button onclick="showScreen('home-screen')" class="w-full max-w-xs bg-[#00bcd4] text-[#0d1a2a] font-bold py-4 rounded-xl shadow-lg hover:bg-[#00a3bb] transition-colors duration-300">
                    Volver al Inicio
                </button>
            </div>

            <!-- Pantalla Modo Shock Emocional -->
            <div id="emotional-shock-screen" class="screen hidden text-center flex flex-col items-center justify-center h-full">
                <h2 class="text-3xl font-bold text-[#00bcd4] mb-8">Modo Calma</h2>
                <p class="text-xl text-gray-300 mb-6">Respira profundamente contigo.</p>
                <div class="relative w-48 h-48 flex items-center justify-center mb-10">
                    <div class="breathing-circle w-full h-full rounded-full bg-[#00bcd4] opacity-70"></div>
                    <div class="absolute text-white text-2xl font-bold">Inhala / Exhala</div>
                </div>
                <button class="w-full max-w-xs bg-[#00bcd4] text-[#0d1a2a] font-bold py-4 rounded-xl shadow-lg hover:bg-[#00a3bb] transition-colors duration-300 mb-4">
                    Hablar con Alguien de Confianza
                </button>
                <button onclick="showScreen('home-screen')" class="w-full max-w-xs bg-transparent border-2 border-[#00bcd4] text-[#00bcd4] font-bold py-3 rounded-xl hover:bg-[#00bcd4]/20 transition-colors duration-300">
                    Volver al Inicio
                </button>
            </div>

            <!-- Pantalla Historial -->
            <div id="history-screen" class="screen hidden flex flex-col h-full">
                <h2 class="text-2xl font-semibold text-[#00bcd4] mb-6 text-center">Tu Historial de Salud</h2>
                <div class="bg-[#0f2138] p-4 rounded-xl w-full mb-6 border border-[#00bcd4]/50 shadow-lg">
                    <p class="text-lg text-gray-400 mb-2">Frecuencia Cardíaca (Últimos 7 días)</p>
                    <img src="https://placehold.co/300x100/0f2138/00bcd4?text=Grafico+Ritmo+Cardiaco" alt="Gráfico de Ritmo Cardíaco" class="w-full rounded-lg">
                </div>
                <div class="flex-grow space-y-4 overflow-y-auto pr-2">
                    <!-- Evento de ejemplo 1 -->
                    <div class="bg-[#0f2138] p-4 rounded-xl border border-[#00bcd4]/50 shadow-md">
                        <p class="font-bold text-white">20 Jul, 2024 - Alerta enviada (Taquicardia)</p>
                        <p class="text-gray-400 text-sm">Ritmo cardíaco: 145 lpm. Ubicación: [Link Google Maps]</p>
                    </div>
                    <!-- Evento de ejemplo 2 -->
                    <div class="bg-[#0f2138] p-4 rounded-xl border border-[#00bcd4]/50 shadow-md">
                        <p class="font-bold text-white">15 Jul, 2024 - Modo Calma activado</p>
                        <p class="text-gray-400 text-sm">Sesión de respiración completada.</p>
                    </div>
                    <!-- Evento de ejemplo 3 -->
                    <div class="bg-[#0f2138] p-4 rounded-xl border border-[#00bcd4]/50 shadow-md">
                        <p class="font-bold text-white">10 Jul, 2024 - Ritmo cardíaco elevado</p>
                        <p class="text-gray-400 text-sm">Pico de 120 lpm durante ejercicio intenso.</p>
                    </div>
                </div>
            </div>

        </main>

        <!-- Menú de navegación inferior -->
        <footer class="bg-[#0f2138] p-4 flex justify-around items-center border-t border-[#00bcd4]">
            <button onclick="showScreen('home-screen')" class="flex flex-col items-center text-[#00bcd4] hover:text-white transition-colors duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-7 h-7">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                </svg>
                <span class="text-xs mt-1">Inicio</span>
            </button>
            <button onclick="showScreen('contacts-screen')" class="flex flex-col items-center text-gray-400 hover:text-white transition-colors duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-7 h-7">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
                </svg>
                <span class="text-xs mt-1">Contactos</span>
            </button>
            <button onclick="showScreen('history-screen')" class="flex flex-col items-center text-gray-400 hover:text-white transition-colors duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-7 h-7">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 21h2.25m-2.25 0h-1.5m1.5 0v-3.375m-1.5 3.375H9.75m7.5-3v3.375m-1.5 0h-1.5m1.5 0h-1.5m-1.5 0H9.75m7.5-3h-7.5m1.5-6h.008v.008H16.5V12h-1.5V9.75h-1.5V12h-1.5V9.75h-1.5V12h-1.5V9.75H8.25m0 0V21" />
                </svg>
                <span class="text-xs mt-1">Historial</span>
            </button>
            <button onclick="showScreen('settings-screen')" class="flex flex-col items-center text-gray-400 hover:text-white transition-colors duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-7 h-7">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.17.992c.092.542.455 1.005.973 1.256l.87.48c.517.252.62.863.324 1.354l-.37.592a1.125 1.125 0 01-.661.424l-.992.17a1.125 1.125 0 00-.94.974l-.063.992a1.125 1.125 0 01-.94.973l-.992.063a1.125 1.125 0 00-.974.94l-.17.992a1.125 1.125 0 01-.424.661l-.592.37c-.491.296-1.102.193-1.354-.324l-.48-.87a1.125 1.125 0 00-1.255-.973l-.992-.17a1.125 1.125 0 01-.973-.94l-.063-.992a1.125 1.125 0 00-.94-.973l-.992-.063a1.125 1.125 0 01-.661-.424l-.592-.37c-.296-.491-.193-1.102.324-1.354l.87-.48c.517-.252.88-.715.973-1.256l.17-.992c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                </svg>
                <span class="text-xs mt-1">Ajustes</span>
            </button>
        </footer>
    </div>

    <script>
        let currentScreen = 'login-screen'; // Pantalla inicial
        const screenTitles = {
            'login-screen': 'Bienvenido',
            'home-screen': 'GUARDIAN+',
            'contacts-screen': 'Contactos',
            'crisis-detection-screen': 'Alerta',
            'alert-sent-screen': 'Alerta Enviada',
            'emotional-shock-screen': 'Modo Calma',
            'history-screen': 'Historial',
            'settings-screen': 'Ajustes' // Agregado para el menú inferior
        };

        // Función para mostrar una pantalla específica
        function showScreen(screenId) {
            const screens = document.querySelectorAll('.screen');
            screens.forEach(screen => {
                screen.classList.add('hidden'); // Oculta todas las pantallas
                screen.classList.remove('active');
            });

            const targetScreen = document.getElementById(screenId);
            if (targetScreen) {
                targetScreen.classList.remove('hidden'); // Muestra la pantalla deseada
                targetScreen.classList.add('active');
                document.getElementById('screen-title').innerText = screenTitles[screenId];
                currentScreen = screenId;
            }

            // Lógica específica para la pantalla de crisis
            if (screenId === 'crisis-detection-screen') {
                startCountdown();
            } else {
                stopCountdown(); // Asegura que el contador se detenga si cambias de pantalla
            }
        }

        // Función para volver a la pantalla anterior (rudimentario, para este prototipo)
        function goBack() {
            if (currentScreen === 'home-screen') {
                showScreen('login-screen'); // Vuelve al login si estás en home
            } else if (currentScreen === 'contacts-screen' || currentScreen === 'history-screen' || currentScreen === 'settings-screen' || currentScreen === 'alert-sent-screen' || currentScreen === 'emotional-shock-screen') {
                showScreen('home-screen'); // Vuelve al home desde otras pantallas
            } else if (currentScreen === 'crisis-detection-screen') {
                cancelCrisis(); // Cancela la crisis si se vuelve desde ahí
            }
        }

        // --- Lógica del Contador para Detección de Crisis ---
        let countdownInterval;
        let countdownValue = 10;

        function startCountdown() {
            countdownValue = 10;
            document.getElementById('countdown').innerText = countdownValue;
            countdownInterval = setInterval(() => {
                countdownValue--;
                document.getElementById('countdown').innerText = countdownValue;
                if (countdownValue <= 0) {
                    clearInterval(countdownInterval);
                    showScreen('alert-sent-screen'); // Muestra la pantalla de alerta enviada
                }
            }, 1000);
        }

        function stopCountdown() {
            clearInterval(countdownInterval);
        }

        function cancelCrisis() {
            stopCountdown();
            showScreen('home-screen'); // Vuelve a la pantalla de inicio
        }

        // Inicializa la pantalla de login al cargar
        document.addEventListener('DOMContentLoaded', () => {
            showScreen('login-screen');
        });
    </script>
</body>
</html>
